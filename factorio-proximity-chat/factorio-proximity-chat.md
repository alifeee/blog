# Coding Projects! #2: Proximity-based voice chat for Factorio

Earlier this year, I played [Barotrauma] weekly for 21 weeks with friends. Barotrauma is "2D co-op submarine simulator â€“ in space, with survival horror and RPG elements", and most importantly for me: it has a proximity voice-chat system. This means that if you are crafting some nuclear fuel rods at the rear of the ship, you will not hear your crewmates being torn apart by eldritch beings that found their way into the front of the ship. You will - on your way past the medbay to fix a leak in the crew quarters - hear the medical doctors through the door discussing which of the crewmembers to use for their next *'experiment'*. You will be picked as the next dead-man-walking to leave the submarine to mine precious metals, and will make your way across the ship to get orders in-person from the captain.

As you can tell, I had a lot of fun playing Barotrauma; it probably deserves a blog post of its own. When we played, we were usually around 8 players, which, had we used Discord for voice chat, would have been chaos trying to hear what everyone was saying. Proximity chat added greatly to our enjoyment of the game, and planted the question in my mind of which other games which could be as fun. As far as I think of it, there are a few criteria which make Factorio great and that I would like in another game that could be as fun. They are:

- Proximity chat. Games which come to mind immediately which have this are Among Us and Minecraft. There are [lists online][proxchat games].
- Campaign-based. By this, I mean games where you play the same save, and wouldn't start fresh every week. Among Us is out.
- Players are... in proximity to each other. In Barotrauma, you can always hear mutterings and ramblings of other people as you are all trapped inside a submarine. In Minecraft, you travel massive distances and make bases separate from each other.

1. [Research](#research)
   1. [How do other games do it?](#how-do-other-games-do-it)
   2. [How can I do it for Factorio?](#how-can-i-do-it-for-factorio)
2. [Making the Factorio Mod](#making-the-factorio-mod)
3. [Making the Mumble Plugin](#making-the-mumble-plugin)
   1. [Initial attempt (outdated documentation)](#initial-attempt-outdated-documentation)
   2. [For real this time](#for-real-this-time)
      1. [Simple steps](#simple-steps)
      2. [Integrate with the Factorio mod](#integrate-with-the-factorio-mod)
      3. [Build it on Windows](#build-it-on-windows)
   3. [It works! (for a bit)](#it-works-for-a-bit)
   4. [It works! (weirdly)](#it-works-weirdly)
   5. [It works! (actually)](#it-works-actually)
4. [Conclusion](#conclusion)

![Screenshot of Factorio players, speaking. They say "Proximity Voice Chat!"; "Pardon?"](./og-image.png)

## Research

### How do other games do it?

### How can I do it for Factorio?

## Making the Factorio Mod

## Making the Mumble Plugin

### Initial attempt (outdated documentation)

### For real this time

#### Simple steps

#### Integrate with the Factorio mod

#### Build it on Windows

### It works! (for a bit)

### It works! (weirdly)

### It works! (actually)

## Conclusion

[Barotrauma]: https://store.steampowered.com/app/602960/Barotrauma/
[proxchat games]: https://www.familygamingdatabase.com/en-gb/search/list/Proximity+Chat
